@startuml
!include DEFS.puml

actor "Sensor Óptico"

"Sensor Óptico" -> MCU: Detecta produto no ponto de inspeção
activate MCU #000000


participant "MCU" as MCU
participant Câmera
participant "Módulo Edge\n(Processamento/Gateway)" as EDGE
participant "MDC/Cloud\n(Servidor SFTP)" as MDC

MCU -> Câmera : Produto detectado\n(Ponto de inspeção)
activate Câmera
EDGE --> Câmera : Solicita captura \n(resolução 1920X1080 px)
Câmera -> EDGE : Envia imagem RAW
deactivate Câmera

EDGE --> EDGE : Processa imagem (Compressão JPEG 85%)
hnote over EDGE : Prepara para transmissão

EDGE -> MDC : Transmite foto via SFTP (criptografado)
MDC --> EDGE : Confirmação de recebimento (ACK)

EDGE --> MCU : Resposta: Captura \ne envio concluídos
note over EDGE, MDC: Tempo total < 2 segundos

legend top
 **Diagrama de Sequência - Módulo de Controle (MC) - Foto**
end legend

footer
  **Casos de Uso cobertos:**
   - **MC-006**: Captura de Fotografia para Controle de Qualidade
end footer  

@enduml